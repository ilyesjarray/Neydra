document.addEventListener('DOMContentLoaded',async()=>{const page=window.location.pathname.split('/').pop();const lockedPages=['PAE.html','AIL.html','RT-NLP-SA.html'];if(lockedPages.includes(page)){try{const res=await fetch('api/validate_subscription.php');if(!res.ok)throw new Error('Network error');const data=await res.json();const requiredPlans={'PAE.html':'standard','AIL.html':'premium','RT-NLP-SA.html':'ultra'};if(data.plan!=='free'&&(data.plan===requiredPlans[page]||data.plan==='ultra')){console.log('Access Granted: Plan Level '+data.plan);}else{window.location.href='warning.html';}}catch(e){console.error('Auth Failed:',e);window.location.href='home.html';}}});
